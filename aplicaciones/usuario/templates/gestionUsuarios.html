{% extends "./plantilla.html" %} 

{% block title %} Gestion de Usuarios {% endblock %}

{% block body %}
<div class="row">
  <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
       <h2>Gestion de usuarios</h2>
       <div class="card">
        <div class="card-body">
          <form action="/registrarUsuario/" method="POST">{% csrf_token %}
            <div class="form-group">
              <input type="text" id="txtCodigo" name="txtCodigo" class="form-control" placeholder="Codigo" minlength="6" maxlength="6">
            </div>
            <div class="form-group">
              <input type="text" id="txtNombre" name="txtNombre" class="form-control" placeholder="Nombre" minlength="2" maxlength="50">
            </div>
            <div class="form-group">
              <input type="text" id="txtApellido" name="txtApellido" class="form-control" placeholder="Apellido" minlength="2" maxlength="50">
            </div>
            <div class="form-group">
              <button type="submit" class="btn btn-success btn-block text-white">Guardar</button>
            </div>
          </form>
        </div>
       </div>
  </div>
  <div class="col-sm-12 col-md-6 col-lg-8 col-xl-8">
    <h1>Listado de usuarios</h1>
       <div class="table-responsive py-2">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>#</th>
              <th>Codigo</th>
              <th>Nombre</th>
              <th>Apellido</th>
              <th colspan="2">Opciones</th>
            </tr>
          </thead>
          <tbody> 
            {% for u in usuarios %}
            <tr>
                <td>{{forloop.counter}}</td>
                <td>{{u.codigo}}</td>
                <td>{{u.nombre}}</td>
                <td>{{u.apellido}}</td>
                <td><a href="edicionUsuario/{{u.codigo}}" class="btn btn-info">Editar</a></td>
                <td><a href="eliminarUsuario/{{u.codigo}}" class="btn btn-danger">Eliminar</a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
       </div>
  </div>
</div>
{% endblock %}
